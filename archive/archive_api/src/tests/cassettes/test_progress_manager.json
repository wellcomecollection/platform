{
  "http_interactions": [
    {
      "request": {
        "body": {
          "encoding": "utf-8",
          "string": "{\"type\": \"Ingest\"}"
        },
        "headers": {
          "User-Agent": [
            "python-requests/2.19.1"
          ],
          "Accept-Encoding": [
            "gzip, deflate"
          ],
          "Accept": [
            "*/*"
          ],
          "Connection": [
            "keep-alive"
          ],
          "Content-Length": [
            "18"
          ],
          "Content-Type": [
            "application/json"
          ]
        },
        "method": "POST",
        "uri": "http://localhost:6002/progress"
      },
      "response": {
        "body": {
          "encoding": "UTF-8",
          "string": "The request content was malformed:\nAttempt to decode value on failed cursor: DownField(uploadUrl)"
        },
        "headers": {
          "Server": [
            "akka-http/10.1.5"
          ],
          "Date": [
            "Wed, 31 Oct 2018 15:09:21 GMT"
          ],
          "Content-Type": [
            "text/plain; charset=UTF-8"
          ],
          "Content-Length": [
            "97"
          ]
        },
        "status": {
          "code": 400,
          "message": "Bad Request"
        },
        "url": "http://localhost:6002/progress"
      },
      "recorded_at": "2018-10-31T15:09:21"
    },
    {
      "request": {
        "body": {
          "encoding": "utf-8",
          "string": "{\"type\": \"Ingest\", \"ingestType\": {\"id\": \"create\", \"type\": \"IngestType\"}, \"space\": {\"id\": \"bububa\", \"type\": \"Space\"}, \"uploadUrl\": \"s3://wellcomecollection-workflow-export-bagit/b21508628.zip\"}"
        },
        "headers": {
          "User-Agent": [
            "python-requests/2.19.1"
          ],
          "Accept-Encoding": [
            "gzip, deflate"
          ],
          "Accept": [
            "*/*"
          ],
          "Connection": [
            "keep-alive"
          ],
          "Content-Length": [
            "192"
          ],
          "Content-Type": [
            "application/json"
          ]
        },
        "method": "POST",
        "uri": "http://localhost:6002/progress"
      },
      "response": {
        "body": {
          "encoding": null,
          "string": "{\"id\":\"50eccf93-cca6-440e-a454-33589960fe10\",\"uploadUrl\":\"s3://wellcomecollection-workflow-export-bagit/b21508628.zip\",\"ingestType\":{\"id\":\"create\",\"type\":\"IngestType\"},\"space\":{\"id\":\"bububa\",\"type\":\"Space\"},\"status\":{\"id\":\"initialised\",\"type\":\"IngestStatus\"},\"resources\":[],\"events\":[],\"createdDate\":\"2018-10-31T15:09:21.880Z\",\"lastModifiedDate\":\"2018-10-31T15:09:21.880Z\",\"type\":\"Ingest\"}"
        },
        "headers": {
          "Location": [
            "https://api.wellcomecollection.org/progress/50eccf93-cca6-440e-a454-33589960fe10"
          ],
          "Server": [
            "akka-http/10.1.5"
          ],
          "Date": [
            "Wed, 31 Oct 2018 15:09:22 GMT"
          ],
          "Content-Type": [
            "application/json"
          ],
          "Content-Length": [
            "389"
          ]
        },
        "status": {
          "code": 201,
          "message": "Created"
        },
        "url": "http://localhost:6002/progress"
      },
      "recorded_at": "2018-10-31T15:09:22"
    },
    {
      "request": {
        "body": {
          "encoding": "utf-8",
          "string": "{\"type\": \"Ingest\", \"ingestType\": {\"id\": \"create\", \"type\": \"IngestType\"}, \"space\": {\"id\": \"bububa\", \"type\": \"Space\"}, \"uploadUrl\": \"s3://wellcomecollection-workflow-export-bagit/b21508628.zip\", \"callback\": {\"uri\": \"http://callback.org\"}}"
        },
        "headers": {
          "User-Agent": [
            "python-requests/2.19.1"
          ],
          "Accept-Encoding": [
            "gzip, deflate"
          ],
          "Accept": [
            "*/*"
          ],
          "Connection": [
            "keep-alive"
          ],
          "Content-Length": [
            "236"
          ],
          "Content-Type": [
            "application/json"
          ]
        },
        "method": "POST",
        "uri": "http://localhost:6002/progress"
      },
      "response": {
        "body": {
          "encoding": null,
          "string": "{\"id\":\"808010ea-2011-4a7a-a95b-e854fe02fbca\",\"uploadUrl\":\"s3://wellcomecollection-workflow-export-bagit/b21508628.zip\",\"callback\":{\"uri\":\"http://callback.org\",\"status\":\"pending\",\"type\":\"Callback\"},\"ingestType\":{\"id\":\"create\",\"type\":\"IngestType\"},\"space\":{\"id\":\"bububa\",\"type\":\"Space\"},\"status\":{\"id\":\"initialised\",\"type\":\"IngestStatus\"},\"resources\":[],\"events\":[],\"createdDate\":\"2018-10-31T15:09:22.304Z\",\"lastModifiedDate\":\"2018-10-31T15:09:22.304Z\",\"type\":\"Ingest\"}"
        },
        "headers": {
          "Location": [
            "https://api.wellcomecollection.org/progress/808010ea-2011-4a7a-a95b-e854fe02fbca"
          ],
          "Server": [
            "akka-http/10.1.5"
          ],
          "Date": [
            "Wed, 31 Oct 2018 15:09:22 GMT"
          ],
          "Content-Type": [
            "application/json"
          ],
          "Content-Length": [
            "467"
          ]
        },
        "status": {
          "code": 201,
          "message": "Created"
        },
        "url": "http://localhost:6002/progress"
      },
      "recorded_at": "2018-10-31T15:09:22"
    },
    {
      "request": {
        "body": {
          "encoding": "utf-8",
          "string": ""
        },
        "headers": {
          "User-Agent": [
            "python-requests/2.19.1"
          ],
          "Accept-Encoding": [
            "gzip, deflate"
          ],
          "Accept": [
            "*/*"
          ],
          "Connection": [
            "keep-alive"
          ]
        },
        "method": "GET",
        "uri": "http://localhost:6002/progress/15d76ac8-e92e-4fb5-aea4-7e5bc98dbc20"
      },
      "response": {
        "body": {
          "encoding": null,
          "string": "{\"id\":\"15d76ac8-e92e-4fb5-aea4-7e5bc98dbc20\",\"uploadUrl\":\"s3://wellcomecollection-workflow-export-bagit/b21508628.zip\",\"ingestType\":{\"id\":\"create\",\"type\":\"IngestType\"},\"space\":{\"id\":\"bububa\",\"type\":\"Space\"},\"status\":{\"id\":\"completed\",\"type\":\"IngestStatus\"},\"resources\":[{\"id\":\"digitised/b21508628\",\"type\":\"IngestResource\"}],\"events\":[{\"description\":\"Started working on ingestRequest: 15d76ac8-e92e-4fb5-aea4-7e5bc98dbc20\",\"createdDate\":\"2018-10-30T17:38:42.830Z\",\"type\":\"ProgressEvent\"},{\"description\":\"zipFile downloaded successfully\",\"createdDate\":\"2018-10-30T17:39:02.001Z\",\"type\":\"ProgressEvent\"},{\"description\":\"Bag uploaded and verified successfully\",\"createdDate\":\"2018-10-30T17:39:57.944Z\",\"type\":\"ProgressEvent\"},{\"description\":\"Bag registered successfully\",\"createdDate\":\"2018-10-30T17:39:58.919Z\",\"type\":\"ProgressEvent\"}],\"createdDate\":\"2018-10-30T17:38:42.576Z\",\"lastModifiedDate\":\"2018-10-30T17:38:42.576Z\",\"type\":\"Ingest\"}"
        },
        "headers": {
          "Server": [
            "akka-http/10.1.5"
          ],
          "Date": [
            "Wed, 31 Oct 2018 15:09:22 GMT"
          ],
          "Content-Type": [
            "application/json"
          ],
          "Content-Length": [
            "936"
          ]
        },
        "status": {
          "code": 200,
          "message": "OK"
        },
        "url": "http://localhost:6002/progress/15d76ac8-e92e-4fb5-aea4-7e5bc98dbc20"
      },
      "recorded_at": "2018-10-31T15:09:22"
    },
    {
      "request": {
        "body": {
          "encoding": "utf-8",
          "string": ""
        },
        "headers": {
          "User-Agent": [
            "python-requests/2.19.1"
          ],
          "Accept-Encoding": [
            "gzip, deflate"
          ],
          "Accept": [
            "*/*"
          ],
          "Connection": [
            "keep-alive"
          ]
        },
        "method": "GET",
        "uri": "http://localhost:6002/progress/bad_status-%7Bbad_status%7D"
      },
      "response": {
        "body": {
          "encoding": "UTF-8",
          "string": "HTTP method not allowed, supported methods: POST"
        },
        "headers": {
          "Allow": [
            "POST"
          ],
          "Server": [
            "akka-http/10.1.5"
          ],
          "Date": [
            "Wed, 31 Oct 2018 15:09:22 GMT"
          ],
          "Content-Type": [
            "text/plain; charset=UTF-8"
          ],
          "Content-Length": [
            "48"
          ]
        },
        "status": {
          "code": 405,
          "message": "Method Not Allowed"
        },
        "url": "http://localhost:6002/progress/bad_status-%7Bbad_status%7D"
      },
      "recorded_at": "2018-10-31T15:09:22"
    },
    {
      "request": {
        "body": {
          "encoding": "utf-8",
          "string": ""
        },
        "headers": {
          "User-Agent": [
            "python-requests/2.19.1"
          ],
          "Accept-Encoding": [
            "gzip, deflate"
          ],
          "Accept": [
            "*/*"
          ],
          "Connection": [
            "keep-alive"
          ]
        },
        "method": "GET",
        "uri": "http://localhost:6002/progress/15d76ac8-e92e-4fb5-aea4-7e5bc98dbc21"
      },
      "response": {
        "body": {
          "encoding": null,
          "string": "\"Progress monitor not found!\""
        },
        "headers": {
          "Server": [
            "akka-http/10.1.5"
          ],
          "Date": [
            "Wed, 31 Oct 2018 15:09:22 GMT"
          ],
          "Content-Type": [
            "application/json"
          ],
          "Content-Length": [
            "29"
          ]
        },
        "status": {
          "code": 404,
          "message": "Not Found"
        },
        "url": "http://localhost:6002/progress/15d76ac8-e92e-4fb5-aea4-7e5bc98dbc21"
      },
      "recorded_at": "2018-10-31T15:09:22"
    },
    {
      "request": {
        "body": {
          "encoding": "utf-8",
          "string": ""
        },
        "headers": {
          "User-Agent": [
            "python-requests/2.19.1"
          ],
          "Accept-Encoding": [
            "gzip, deflate"
          ],
          "Accept": [
            "*/*"
          ],
          "Connection": [
            "keep-alive"
          ]
        },
        "method": "GET",
        "uri": "http://localhost:6002/progress/notjson"
      },
      "response": {
        "body": {
          "encoding": "UTF-8",
          "string": "HTTP method not allowed, supported methods: POST"
        },
        "headers": {
          "Allow": [
            "POST"
          ],
          "Server": [
            "akka-http/10.1.5"
          ],
          "Date": [
            "Wed, 31 Oct 2018 15:09:22 GMT"
          ],
          "Content-Type": [
            "text/plain; charset=UTF-8"
          ],
          "Content-Length": [
            "48"
          ]
        },
        "status": {
          "code": 405,
          "message": "Method Not Allowed"
        },
        "url": "http://localhost:6002/progress/notjson"
      },
      "recorded_at": "2018-10-31T15:09:22"
    }
  ],
  "recorded_with": "betamax/0.8.1"
}
