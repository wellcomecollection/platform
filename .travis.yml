language: c

sudo: true

install:
  - >
    repo_dir=$(pwd);
    cd /tmp;
    curl https://releases.hashicorp.com/terraform/0.9.3/terraform_0.9.3_linux_amd64.zip -o terraform.zip;
    unzip -o terraform.zip;
    sudo mv terraform /usr/bin/terraform;
    cd $repo_dir
  - pip install --upgrade --user awscli

script:
  # We don't want Terraform saving to remote state, so this is just
  # a syntax check
  - cd terraform; mv terraform.tf terraform.tf.bak; ./plan.sh

env:
  matrix:
    secure: Hxp/gtLCE0cx2UMv31qPKo3GdnLxANmjS/HzHBzhCs5zcpMHnuRPCPdAW5RSbPRvEKHBiZ6ULp2EaS2PPCdJQnmwueDoO7Ou/RWvlbzbPElz2EY0o0sNhFVVRB28uz06asIStz+UoVLN+G3grOzKsuUsoU0PE6FWkpH4MvPv83RXZ18uZuiaJJIVmaUiVetfktL+rFodRLiY2cDFLGjfswEL/Dgc9rZOFN6r7Fo/svJIgHklFg3t/rDMSB4t+zuOA9oxxrGBVz3JiWK30InbrKXhZKLw2UdEZsEI6ao0xNN++NkE7L3KNo1sF7TeKKlehJvWjXMl9hssdFdO/LCDDst0ipmfnCmSuERdvndbiT089Yx2KEH0LDgtLBtNUKy76CSc3HL2aiQZpbvOmeqiSLL/sasQP/DftFn9SGgWSXdiDYkDyBbKx5oAFgI9Og1aIEHUpuyLBGWJQx/rPHD1rOnKLjKgv0u6mE3MtV5AORJU8Yb4H67weJnq0Ufw+PQs87zWPUvO7kBsoq62VEhAf3KpPN4oz1DfijnzCJJSNxWA3N4rIpcP0LevanKR/xL/qHn85A5URJvdv6z8GQQgnbLesOrVwqlMJVYnZA0z8oIKimhTvndWNI8DXX5JD1jDzC3yHvdMiFTwx+tgYBqwF/r1KfEoIU+63o75RJgxY2I=
